(()=>{"use strict";const t=(t,e,n,o,c,d)=>({id:t,get title(){return e},get description(){return n},get dueDate(){return o},get completed(){return c},get project(){return d},edit:()=>{console.log("editing")},toggleCompleted:()=>{c=!c},changeProject:t=>{d=t}}),e=(t,e)=>{let n=[];return{get id(){return t},get title(){return e},get todoList(){return n},edit:()=>{console.log("editing")},addTodo:t=>{t.changeProject(e),n.push(t)},removeTodo:t=>{}}};function n(t){const e=document.querySelectorAll(".sidebar-button");for(let t=0;t<e.length;t++)e[t].classList.remove("selected");t.currentTarget.classList.add("selected")}function o(t){const e=document.querySelector("#todos-container"),n=document.createElement("div");n.classList.add("todo"),t.completed&&n.classList.add("completed");const o=document.createElement("button");o.classList.add("toggle-completed"),o.innerHTML=`<span class="material-symbols-outlined">${t.completed?"check_box":"check_box_outline_blank"}</span>`,o.addEventListener("click",(function(e){t.toggleCompleted(),o.innerHTML=`<span class="material-symbols-outlined">${t.completed?"check_box":"check_box_outline_blank"}</span>`,e.currentTarget.parentElement.classList.toggle("completed")})),n.appendChild(o);const c=document.createElement("span");c.classList.add("title"),c.textContent=t.title,n.appendChild(c);const d=document.createElement("div");d.classList.add("right-aligned-items"),n.appendChild(d);const i=document.createElement("span");i.classList.add("due-date"),i.textContent=t.dueDate,d.appendChild(i);const a=document.createElement("button");a.classList.add("edit"),a.innerHTML='<span class="material-symbols-outlined">edit</span>',a.addEventListener("click",(function(){l("edit-todo",t)})),d.appendChild(a);const r=document.createElement("button");r.classList.add("delete"),r.innerHTML='<span class="material-symbols-outlined">delete</span>',r.addEventListener("click",(function(){l("delete-todo")})),d.appendChild(r),e.appendChild(n)}function c(t,e="All"){document.querySelector("#list-title").textContent=e,document.querySelector("#todos-container").innerHTML="";for(let n=0;n<t.length;n++){let c=t[n];for(let t=0;t<c.todoList.length;t++){let n=c.todoList[t];"Today"!=e&&"Upcoming"!=e&&o(n)}}}function d(t){const e=document.querySelector(".projects"),c=document.createElement("button");c.classList.add("sidebar-button"),c.classList.add("project"),c.setAttribute("data-id",t.id),c.addEventListener("click",(function(e){n(e),function(t){document.querySelector("#list-title").textContent=t.title,document.querySelector("#todos-container").innerHTML="";const e=document.querySelector("#add-todo-container");e.innerHTML="";const n=document.createElement("button");n.classList.add("add-todo-button"),n.innerHTML='<span class="material-symbols-outlined">add_box</span>',n.addEventListener("click",(function(){l("add-todo")})),e.appendChild(n);for(let e=0;e<t.todoList.length;e++)o(t.todoList[e])}(t)}));const d=document.createElement("span");c.appendChild(d),d.textContent=t.title;const i=document.createElement("button");i.classList.add("sidebar-button"),i.classList.add("right-aligned"),i.classList.add("delete-project-button"),i.innerHTML='<span class="material-symbols-outlined">delete</span>',i.addEventListener("click",(function(){l("delete-project")}));const a=document.createElement("div");a.classList.add("right-aligned"),a.appendChild(i),c.appendChild(a),e.appendChild(c)}function l(t,e=null){switch(document.querySelector("#content").style.opacity="60%",document.querySelector(".popup-container").style.display="inline",t){case"add-todo":!function(){document.querySelector(".popup-title").textContent="Add new task",document.querySelector(".popup-content").innerHTML='<form>\n            <label for="title">Title:</label>\n            <input type="text" id="title-input" name="title">\n            <label for="description">Due date:</label>\n            <input type="text" id="date-input" name="date">\n            <label for="description">Project:</label>\n            <input type="text" id="project-input" name="project">\n        </form>\n        ';const t=document.querySelector(".popup-buttons"),e=document.createElement("button");e.classList.add("add"),e.textContent="Add",e.addEventListener("click",(function(t){i()}));const n=document.createElement("button");n.classList.add("cancel"),n.textContent="Cancel",n.addEventListener("click",(function(t){i()})),t.appendChild(e),t.appendChild(n)}();break;case"edit-todo":!function(t){document.querySelector(".popup-title").textContent="Edit task",document.querySelector(".popup-content").innerHTML=`<form>\n            <label for="title">Title:</label>\n            <input type="text" id="title-input" name="title" value=${t.title}>\n            <label for="description">Description:</label>\n            <input type="text" id="date-input" name="date" value=${t.dueDate}>\n            <label for="description">Project:</label>\n            <input type="text" id="project-input" name="project" value=${t.project}>\n            <label for="description">Completed:</label>\n            <input type="text" id="project-input" name="project" value=${t.completed}>\n        </form>\n        `;const e=document.querySelector(".popup-buttons"),n=document.createElement("button");n.classList.add("add"),n.textContent="Save changes",n.addEventListener("click",(function(t){i()}));const o=document.createElement("button");o.classList.add("cancel"),o.textContent="Cancel",o.addEventListener("click",(function(t){i()})),e.appendChild(n),e.appendChild(o)}(e);break;case"delete-todo":!function(){document.querySelector(".popup-title").textContent="Delete task?",document.querySelector(".popup-content");const t=document.querySelector(".popup-buttons"),e=document.createElement("button");e.textContent="Confirm",e.addEventListener("click",(function(t){i()}));const n=document.createElement("button");n.classList.add("cancel"),n.textContent="Cancel",n.addEventListener("click",(function(t){i()})),t.appendChild(e),t.appendChild(n)}();break;case"add-project":!function(){document.querySelector(".popup-title").textContent="Add new project",document.querySelector(".popup-content").innerHTML='<form>\n            <label for="title">Title:</label>\n            <input type="text" id="title-input" name="title">\n        </form>\n        ';const t=document.querySelector(".popup-buttons"),e=document.createElement("button");e.classList.add("add"),e.textContent="Add",e.addEventListener("click",(function(t){i()}));const n=document.createElement("button");n.classList.add("cancel"),n.textContent="Cancel",n.addEventListener("click",(function(t){i()})),t.appendChild(e),t.appendChild(n)}();break;case"edit-project":!function(t){document.querySelector(".popup-title").textContent="Edit project",document.querySelector(".popup-content").innerHTML=`<form>\n            <label for="title">Title:</label>\n            <input type="text" id="title-input" name="title" value=${todo.title}>\n        </form>\n        `;const e=document.querySelector(".popup-buttons"),n=document.createElement("button");n.classList.add("add"),n.textContent="Save changes",n.addEventListener("click",(function(t){i()}));const o=document.createElement("button");o.classList.add("cancel"),o.textContent="Cancel",o.addEventListener("click",(function(t){i()})),e.appendChild(n),e.appendChild(o)}();break;case"delete-project":!function(){document.querySelector(".popup-title").textContent="Delete project?",document.querySelector(".popup-content");const t=document.querySelector(".popup-buttons"),e=document.createElement("button");e.textContent="Confirm",e.addEventListener("click",(function(t){i()}));const n=document.createElement("button");n.classList.add("cancel"),n.textContent="Cancel",n.addEventListener("click",(function(t){i()})),t.appendChild(e),t.appendChild(n)}()}}function i(){document.querySelector("#content").style.opacity="100%";const t=document.querySelector(".popup-container");t.classList.remove(t.classList[1]),t.style.display="none",document.querySelector(".popup-content").innerHTML="",document.querySelector(".popup-buttons").innerHTML=""}const a=document.querySelector(".home");for(let t=0;t<a.children.length;t++){let e=a.children[t],o=e.classList[1].charAt(0).toUpperCase()+e.classList[1].slice(1);e.addEventListener("click",(function(t){n(t),c(s,o)}))}document.querySelector(".add-project-button").addEventListener("click",(function(){l("add-project")})),document.querySelector(".add-todo-button").addEventListener("click",(function(){l("add-todo")}));let r=t(0,"Do this","Some kind of description","22/02/99",!0,null),s=[],u=e(0,"Sample project");u.addTodo(r);let p=t(0,"Do this later","Blah blah","23/02/99",!1,null),m=e(1,"Another project");m.addTodo(p),s.push(u),d(u),s.push(m),d(m),c(s)})();